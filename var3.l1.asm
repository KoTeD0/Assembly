.model small
.386
dos_inp macro lbl, sz
ib struc
max db sz ; ?????????? ????? ??????
len db ? ; ???? ???????? ????????? ?????
bf db sz dup(?) ; ??? ????? ??, ??? ?????
ib ends
lbl ib <>
endm
.stack 100
.data
req db 'Enter string:$'
dos_inp buf, 80
.code
start:
mov ax, @data
mov ds, ax
mov es, ax
; ????? ?? ?????
mov ah, 09h
lea dx, req
int 21h
; ???? ??????
mov ah, 0Ah
lea dx, buf
int 21h
;;
movzx cx, byte ptr buf.len
lea si, buf.bf
mov di, si
@loop: lodsb
cmp al, '0'
jb @non_num
cmp al, '9'
ja @non_num
jmp @next
@non_num:
stosb
@next: loop @loop
mov al, '$'
stosb
mov bx, dx
mov word ptr [bx], 0D0Ah
; ????? ?? ?????
mov ah, 09h
int 21h
; ?????
mov ah, 4Ch
int 21h
end start
